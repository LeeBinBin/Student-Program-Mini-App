<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="top-nav">
    <view class="nav-back" bindtap="navigateBack">
      <text class="back-icon">â†</text>
    </view>
    <view class="nav-title">å¤šè¯­è¨€æ•™å­¦</view>
    <view class="nav-actions">
      <view class="action-item" bindtap="addTranslation">
        <text class="action-icon">+</text>
      </view>
    </view>
  </view>

  <!-- è¯­è¨€é€‰æ‹© -->
  <view class="language-selector">
    <view class="selector-title">é€‰æ‹©æ•™å­¦è¯­è¨€</view>
    <view class="language-tabs">
      <view class="language-tab {{selectedLanguage === 'zh' ? 'active' : ''}}" bindtap="selectLanguage('zh')">
        <text class="tab-icon">ğŸ‡¨ğŸ‡³</text>
        <text class="tab-text">ä¸­æ–‡</text>
      </view>
      <view class="language-tab {{selectedLanguage === 'en' ? 'active' : ''}}" bindtap="selectLanguage('en')">
        <text class="tab-icon">ğŸ‡¬ğŸ‡§</text>
        <text class="tab-text">English</text>
      </view>
      <view class="language-tab {{selectedLanguage === 'yue' ? 'active' : ''}}" bindtap="selectLanguage('yue')">
        <text class="tab-icon">ğŸ—£ï¸</text>
        <text class="tab-text">ç²¤è¯­</text>
      </view>
    </view>
  </view>

  <!-- ç¿»è¯‘å·¥å…· -->
  <view class="translation-tool">
    <view class="tool-title">å®æ—¶ç¿»è¯‘</view>
    <view class="translation-input">
      <textarea class="input-area" placeholder="è¾“å…¥éœ€è¦ç¿»è¯‘çš„å†…å®¹" bindinput="onInput" value="{{inputText}}" />
    </view>
    <view class="translation-actions">
      <view class="action-btn primary-btn" bindtap="translate">
        <text class="action-text">ç¿»è¯‘</text>
      </view>
      <view class="action-btn secondary-btn" bindtap="clearInput">
        <text class="action-text">æ¸…ç©º</text>
      </view>
    </view>
    <view wx:if="{{translatedText}}" class="translation-result">
      <view class="result-header">
        <text class="result-label">ç¿»è¯‘ç»“æœ:</text>
        <text class="result-language">{{languageNames[selectedLanguage]}}</text>
      </view>
      <view class="result-content">{{translatedText}}</view>
      <view class="result-actions">
        <view class="result-btn" bindtap="copyResult">
          <text class="btn-icon">ğŸ“‹</text>
          <text class="btn-text">å¤åˆ¶</text>
        </view>
        <view class="result-btn" bindtap="saveTranslation">
          <text class="btn-icon">ğŸ’¾</text>
          <text class="btn-text">ä¿å­˜</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å¸¸ç”¨çŸ­è¯­ -->
  <view class="common-phrases">
    <view class="section-title">å¸¸ç”¨æ•™å­¦çŸ­è¯­</view>
    <view class="phrases-grid">
      <view wx:for="{{commonPhrases}}" wx:key="id" class="phrase-item" bindtap="usePhrase" data-phrase="{{item.text}}">
        <text class="phrase-text">{{item.text}}</text>
        <text class="phrase-language">{{item.language}}</text>
      </view>
    </view>
  </view>

  <!-- ç¿»è¯‘å†å² -->
  <view class="translation-history">
    <view class="section-title">ç¿»è¯‘å†å²</view>
    <view wx:if="{{history.length > 0}}" class="history-list">
      <view wx:for="{{history}}" wx:key="index" class="history-item">
        <view class="history-input">{{item.input}}</view>
        <view class="history-arrow">â†’</view>
        <view class="history-output">{{item.output}}</view>
        <view class="history-language">{{languageNames[item.language]}}</view>
      </view>
    </view>
    <view wx:else class="empty-history">
      <text class="empty-icon">ğŸ“</text>
      <view class="empty-text">æš‚æ— ç¿»è¯‘å†å²</view>
    </view>
  </view>
</view>