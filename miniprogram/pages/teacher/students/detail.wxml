<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="top-nav">
    <view class="nav-back" bindtap="navigateBack">
      <text class="back-icon">â†</text>
    </view>
    <view class="nav-title">å­¦ç”Ÿè¯¦æƒ…</view>
    <view class="nav-actions">
      <view class="action-item" bindtap="editStudent">
        <text class="action-icon">âœï¸</text>
      </view>
      <view class="action-item" bindtap="deleteStudent">
        <text class="action-icon">ğŸ—‘ï¸</text>
      </view>
    </view>
  </view>

  <!-- å­¦ç”ŸåŸºæœ¬ä¿¡æ¯ -->
  <view class="student-card">
    <view class="student-header">
      <view class="student-avatar">
        <image wx:if="{{student.avatar}}" src="{{student.avatar}}" mode="aspectFill"></image>
        <view wx:else class="avatar-placeholder">{{student.name.charAt(0)}}</view>
      </view>
      <view class="student-basic-info">
        <view class="student-name">{{student.name}}</view>
        <view class="student-id">å­¦å·ï¼š{{student.id}}</view>
        <view class="student-tags">
          <view class="tag cross-border" wx:if="{{student.type === 'cross-border'}}">è·¨å¢ƒå­¦ç”Ÿ</view>
          <view class="tag local" wx:else>æœ¬åœ°å­¦ç”Ÿ</view>
          <view class="tag active" wx:if="{{student.status === 'active'}}">åœ¨è¯»</view>
          <view class="tag inactive" wx:else>ä¼‘å­¦</view>
        </view>
      </view>
    </view>

    <view class="info-section">
      <view class="info-item">
        <view class="info-label">å­¦æ ¡</view>
        <view class="info-value">{{student.school}}</view>
      </view>
      <view class="info-item">
        <view class="info-label">å¹´çº§</view>
        <view class="info-value">{{student.grade}}</view>
      </view>
      <view class="info-item">
        <view class="info-label">è”ç³»ç”µè¯</view>
        <view class="info-value">{{student.phone}}</view>
      </view>
      <view class="info-item">
        <view class="info-label">å­¦ä¹ ç§‘ç›®</view>
        <view class="info-value">{{student.subjectsText}}</view>
      </view>
    </view>
  </view>

  <!-- è·¨å¢ƒå­¦ç”Ÿä¿¡æ¯ -->
  <view wx:if="{{student.type === 'cross-border'}}" class="cross-border-card">
    <view class="card-title">
      <text class="title-icon">ğŸŒ‰</text>
      <text>è·¨å¢ƒæ•™è‚²ä¿¡æ¯</text>
    </view>
    <view class="info-section">
      <view class="info-item">
        <view class="info-label">å†…åœ°å­¦æ ¡</view>
        <view class="info-value">{{student.crossBorderInfo.mainlandSchool}}</view>
      </view>
      <view class="info-item">
        <view class="info-label">é€‚åº”æ°´å¹³</view>
        <view class="info-value adaptation-{{student.crossBorderInfo.adaptationLevel === 'ä¼˜ç§€' ? 'excellent' : student.crossBorderInfo.adaptationLevel === 'è‰¯å¥½' ? 'good' : 'average'}}">
          {{student.crossBorderInfo.adaptationLevel}}
        </view>
      </view>
      <view class="info-item">
        <view class="info-label">éœ€è¦å…³æ³¨</view>
        <view class="info-value">
          <text wx:if="{{student.crossBorderInfo.needsAttention}}" class="attention-yes">æ˜¯</text>
          <text wx:else class="attention-no">å¦</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ è®°å½• -->
  <view class="learning-record-card">
    <view class="card-title">
      <text class="title-icon">ğŸ“Š</text>
      <text>å­¦ä¹ è®°å½•</text>
    </view>
    <view class="record-list">
      <view wx:for="{{learningRecords}}" wx:key="id" class="record-item">
        <view class="record-icon">{{item.icon}}</view>
        <view class="record-content">
          <view class="record-title">{{item.title}}</view>
          <view class="record-time">{{item.time}}</view>
        </view>
        <view class="record-score" wx:if="{{item.score}}">{{item.score}}åˆ†</view>
      </view>
    </view>
  </view>

  <!-- é€‚é…å»ºè®® -->
  <view wx:if="{{student.type === 'cross-border'}}" class="suggestion-card">
    <view class="card-title">
      <text class="title-icon">ğŸ’¡</text>
      <text>é€‚é…å»ºè®®</text>
    </view>
    <view class="suggestion-list">
      <view wx:for="{{suggestions}}" wx:key="index" class="suggestion-item">
        <view class="suggestion-number">{{index + 1}}</view>
        <view class="suggestion-content">{{item}}</view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="bottom-actions">
    <view class="action-btn secondary" bindtap="contactStudent">
      <text class="btn-icon">ğŸ“</text>
      <text>è”ç³»å­¦ç”Ÿ</text>
    </view>
    <view class="action-btn primary" bindtap="viewProgress">
      <text class="btn-icon">ğŸ“ˆ</text>
      <text>å­¦ä¹ è¿›åº¦</text>
    </view>
  </view>
</view>