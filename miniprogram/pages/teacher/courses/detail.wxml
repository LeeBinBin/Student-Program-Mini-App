<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="top-nav">
    <view class="nav-back" bindtap="navigateBack">
      <text class="back-icon">â†</text>
    </view>
    <view class="nav-title">è¯¾ç¨‹è¯¦æƒ…</view>
    <view class="nav-actions">
      <view class="action-item" bindtap="editCourse">
        <text class="action-icon">âœï¸</text>
      </view>
    </view>
  </view>

  <!-- è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯ -->
  <view class="course-info">
    <view class="course-header">
      <view class="course-status" style="background-color: {{course.status === 'active' ? '#D9F99D' : '#FEE2E2'}}">{{course.status === 'active' ? 'è¿›è¡Œä¸­' : 'å·²ç»“æŸ'}}</view>
      <view class="course-name">{{course.name}}</view>
      <view class="course-meta">
        <text class="meta-item">{{course.subject}}</text>
        <text class="meta-divider">|</text>
        <text class="meta-item">{{course.grade}}å¹´çº§</text>
        <text class="meta-divider">|</text>
        <text class="meta-item">{{course.type}}</text>
      </view>
    </view>

    <view class="course-description">
      <view class="section-title">è¯¾ç¨‹ç®€ä»‹</view>
      <view class="desc-content">{{course.description}}</view>
    </view>

    <view class="course-schedule">
      <view class="section-title">è¯¾ç¨‹æ—¶é—´</view>
      <view class="schedule-info">
        <text class="schedule-item">å¼€å§‹æ—¶é—´ï¼š{{course.startDate}}</text>
        <text class="schedule-item">ç»“æŸæ—¶é—´ï¼š{{course.endDate}}</text>
      </view>
    </view>

    <!-- è·¨å¢ƒé€‚é…ä¿¡æ¯ -->
    <view wx:if="{{course.crossBorderInfo}}" class="cross-border-info">
      <view class="section-title">è·¨å¢ƒé€‚é…ä¿¡æ¯</view>
      <view class="cross-info-content">
        <view class="cross-item">
          <view class="cross-label">å¹¿ä¸œè¯¾ç¨‹æ ‡å‡†</view>
          <view class="cross-tags">
            <view wx:for="{{course.crossBorderInfo.guangdongStandards}}" wx:key="index" class="cross-tag guangdong">{{item}}</view>
          </view>
        </view>
        <view class="cross-item">
          <view class="cross-label">é¦™æ¸¯è¯¾ç¨‹æ ‡å‡†</view>
          <view class="cross-tags">
            <view wx:for="{{course.crossBorderInfo.hongkongStandards}}" wx:key="index" class="cross-tag hongkong">{{item}}</view>
          </view>
        </view>
        <view class="cross-item">
          <view class="cross-label">é€‚é…éš¾åº¦</view>
          <view class="adaptation-level" style="background-color: {{course.adaptationColor}}">
            {{course.crossBorderInfo.adaptationLevel}}
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- è¯¾ç¨‹ç®¡ç†æ¨¡å— -->
  <view class="course-management">
    <view class="section-title">è¯¾ç¨‹ç®¡ç†</view>
    
    <!-- å­¦ç”Ÿç®¡ç† -->
    <view class="management-item" bindtap="manageStudents">
      <view class="item-icon">ğŸ‘¥</view>
      <view class="item-content">
        <view class="item-title">å­¦ç”Ÿç®¡ç†</view>
        <view class="item-desc">ç®¡ç†è¯¾ç¨‹å­¦ç”Ÿï¼ŒæŸ¥çœ‹å­¦ä¹ è¿›åº¦</view>
      </view>
      <view class="item-arrow">></view>
    </view>

    <!-- è¯¾ç¨‹èµ„æ–™ -->
    <view class="management-item" bindtap="manageMaterials">
      <view class="item-icon">ğŸ“š</view>
      <view class="item-content">
        <view class="item-title">è¯¾ç¨‹èµ„æ–™</view>
        <view class="item-desc">{{course.materialsCount || 0}} ä»½èµ„æ–™ï¼ŒåŒ…æ‹¬è¯¾ä»¶ã€ä¹ é¢˜ç­‰</view>
      </view>
      <view class="item-arrow">></view>
    </view>

    <!-- è¯¾ç¨‹ä½œä¸š -->
    <view class="management-item" bindtap="manageAssignments">
      <view class="item-icon">ğŸ“</view>
      <view class="item-content">
        <view class="item-title">è¯¾ç¨‹ä½œä¸š</view>
        <view class="item-desc">å¸ƒç½®å’Œæ‰¹æ”¹ä½œä¸š</view>
      </view>
      <view class="item-arrow">></view>
    </view>

    <!-- å­¦ä¹ ç»Ÿè®¡ -->
    <view class="management-item" bindtap="viewStatistics">
      <view class="item-icon">ğŸ“Š</view>
      <view class="item-content">
        <view class="item-title">å­¦ä¹ ç»Ÿè®¡</view>
        <view class="item-desc">æŸ¥çœ‹å­¦ç”Ÿå­¦ä¹ æ•°æ®å’Œè¯¾ç¨‹æ•ˆæœ</view>
      </view>
      <view class="item-arrow">></view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="btn-primary" bindtap="startCourse" wx:if="{{course.status === 'inactive'}}">å¼€å§‹è¯¾ç¨‹</button>
    <button class="btn-secondary" bindtap="endCourse" wx:if="{{course.status === 'active'}}">ç»“æŸè¯¾ç¨‹</button>
    <button class="btn-danger" bindtap="deleteCourse">åˆ é™¤è¯¾ç¨‹</button>
  </view>
</view>
